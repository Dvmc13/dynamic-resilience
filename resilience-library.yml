resilience:
  monitor:
    interval: 60000

  dynamicConfig:
    # Umbral de error (porcentaje) para activar cambios din√°micos
    errorRateThreshold: 50
    # Valor a forzar para el circuit breaker cuando se supera el umbral (por ejemplo, "OPEN")
    forcedStateValue: "OPEN"

  services:
    - name: frontend
      host: ${FRONTEND_HOST:frontend}
      port: ${FRONTEND_PORT:8084}
      metrics:
        latencyEndpoint: /actuator/prometheus?name=http_server_requests_seconds_sum
        errorEndpoint: /actuator/prometheus?name=http_server_requests_seconds_count
      rulesFile: https://raw.githubusercontent.com/Dvmc13/dynamic-resilience/main/rules/frontend-rules.yml
      circuitbreaker:
        forcedState: ${FRONTEND_CIRCUIT_FORCED_STATE:}
      retry:
        maxAttemptsOverride: ${FRONTEND_RETRY_MAX_ATTEMPTS:}
        waitDurationOverride: ${FRONTEND_RETRY_WAIT_DURATION:}
